  <TITLE>UNIX man pages : ./ezmlm-send.1 ()</TITLE>
  <hr>
<PRE>

ezmlm-send(1)                                       ezmlm-send(1)

<H2>NAME</H2>
       ezmlm-send - distribute a message to a mailing list

<H2>SYNOPSIS</H2>
       <b>ezmlm-send</b> [ <b>-cCrRvV</b> ] [ <b>-h</b> <i>header</i> ] <i>dir</i>

<H2>DESCRIPTION</H2>
       <b>ezmlm-send</b>  reads a mail message and sends it to the mail-
       ing list stored in <i>dir</i>.  If  <i>dir</i><b>/archived</b>  exists,  <b>ezmlm-</b>
       <b>send</b>  records  a  copy  of the message in the <i>dir</i><b>/archive/</b>
       directory.

       If <i>dir</i><b>/indexed</b> exists, <b>ezmlm-send</b> adds the subject, author
       and  time stamp of the message to the index, kept with the
       message in a subdirectory of <i>dir</i><b>/archive/</b>.  The subject is
       processed to make reply-subject entries identical to orig-
       inal message subject entries.  The subject index  is  used
       for  the archive retrieval functions of <b><A HREF="ezmlm-get.1.html">ezmlm-get(1)</A></b>.  Use
       <b><A HREF="ezmlm-idx.1.html">ezmlm-idx(1)</A></b> to create a subject index from a  preexisting
       archive.

       Subject  and  author lines are decoded if they are encoded
       per rfc2047. When split lines are unfolded, the number  of
       escape  sequences  for  iso-2022-* character sets is mini-
       mized. For instance, two consequtive toascii sequences are
       reduced.   This  processing  is done for the character set
       specified in <i>dir</i><b>/charset</b>.  The result of this  process  is
       the same for a given subject, irrespective of encoding.

       At  the  beginning of the message, <b>ezmlm-send</b> prints a new
       <b>Mailing-List</b> field with the contents  of  <i>dir</i><b>/mailinglist</b>.
       It  rejects the message if there is already a <b>Mailing-List</b>
       field.

       <b>ezmlm-send</b> then  prints  all  the  new  fields  listed  in
       <i>dir</i><b>/headeradd</b>,  followed  by  an  appropriate <b>Delivered-To</b>
       line.

       <b>ezmlm-send</b> deletes any incoming fields with  names  listed
       in <i>dir</i><b>/headerremove</b>.

       <b>ezmlm-send</b>  removes MIME parts specified in <i>dir</i><b>/mimeremove</b>
       before archiving and distribution of the message.

       If <i>dir</i><b>/text/trailer</b> exists, <b>ezmlm-send</b> copies  it  to  the
       end  of  the  message send to the list. The trailer is not
       added to the archived version of the message. If the  mes-
       sage  is  of  a  composite  MIME type, the trailer will be
       added as a separate part with encoding and  character  set
       as  per  <i>dir</i><b>/charset</b>.   If  the message is not a composite
       MIME type, the trailer will be added to the message in the
       same  encoding  as  the  message  itself.  Due  to the way
       fillers are interpreted, the trailer may not  be  readable
       for  base64  encoded  messages of non-composite MIME types

                                                                1

ezmlm-send(1)                                       ezmlm-send(1)

       (very rare).

       If <i>dir</i><b>/prefix</b> exists, <b>ezmlm-send</b> will prefix  the  subject
       line  with  the  first  line of this file. A space will be
       added to separate <b>prefix</b> from the subject text.  <b>prefix</b> is
       ignored  for sublists. If <i>dir</i><b>/prefix</b> contains a ``#'', the
       last ``#'' will be replaced by the  message  number.   Any
       prefix  starting  with text of a reply indicator (``Re:'',
       ``Re[n]:'', etc) will cause problems.  The prefix  may  be
       rfc2047  encoded. Rfc2047 Iso-2022-* encoded prefixes <i>must</i>
       end in ascii.

       The prefix feature and especially the message number  fea-
       ture  modify  the  message in violation with Internet mail
       standards. The features have been implemented  by  popular
       demand. Use at your own peril.

       If  <i>dir</i><b>/sequence</b>  exists, <b>ezmlm-send</b> will use the contents
       as a header, after which it puts a space and  the  message
       number. No actual checking of the contents of <i>dir</i><b>/sequence</b>
       is done. ``X-Sequence:'' is a suggested text, if this fea-
       ture is used.  <b>Note:</b> the sequence number used is the local
       message number. It is usually inadvisable to use this  for
       sublists,  although  this  option,  if  selected, is still
       active for sublists.

       <b>ezmlm-send</b> does not distribute  bounce  messages:  if  the
       environment variable <b>SENDER</b> is set, and is either empty or
       <b>#@[]</b>, <b>ezmlm-send</b> rejects the message.

<H2>OPTIONS</H2>
       <b>-c</b>     (Default.)  Posts are sent to all subscribers.

       <b>-C</b>     Posts are not sent to SENDER. This is somewhat less
              efficient,  since  <b>ezmlm-send</b> has to parse the sub-
              scriber database.

       <b>-h</b> <i>header</i>
              If the list is a sublist, i.e.  <i>dir</i><b>/sublist</b> exists,
              <i>header</i>  is  required  in  all messages to the list.
              This option is used when ezmlm is  used  to  run  a
              sublist  of a lists run by a different mailing list
              manager that uses  <i>header</i>  rather  than  ``Mailing-
              List''  to  identify  messages from the list.  Any-
              thing after the first colon (if present) in  <i>header</i>
              is ignored.

       <b>-r</b>     Copy incoming ``Received:'' headers to the outgoing
              message.

       <b>-R</b>     (Default.)   Do  not  copy  incoming  ``Received:''
              headers,   except  the  one  added  by  the  (last)
              listhost, to the outgoing message.  In some  cases,
              especially  for  sublists,  the messages can have a

                                                                2

ezmlm-send(1)                                       ezmlm-send(1)

              large number of  ``Received:''  headers.  This  may
              lead  to  bounces  for  some  users due to sendmail
              ``hopcounts'' set too low  somewhere  in  the  mail
              path. These users can subscribe and receive warning
              and probe messages, but no  list  messages,  unless
              the number of ``Received:'' headers is reduced.

              Pre-list ``Received:'' headers are of little inter-
              est to normal list subscribers. ``Received:'' head-
              ers  are  still copied to the archive and available
              to anyone from there for message tracking purposes.

       <b>-v</b>     Display version information.

       <b>-V</b>     Display version information.

<H2>SUBLISTS</H2>
       If  <i>dir</i><b>/sublist</b> exists, <b>ezmlm-send</b> changes its behavior in
       several ways.

       First, if <b>SENDER</b> is set, and the first line of <i>dir</i><b>/sublist</b>
       has  the  form  <i>parent</i><b>@</b><i>parenthost</i>, <b>ezmlm-send</b> insists that
       <b>SENDER</b> have the form <i>parent</i><b>...@</b><i>parenthost</i>.

       Second, <b>ezmlm-send</b> demands that the message already have a
       <b>Mailing-List</b> field.

       Third, <b>ezmlm-send</b> does not add its own <b>Mailing-List</b> field.

       Fourth, <b>ezmlm-send</b> uses the incoming  message  number  for
       the  outgoing message, if the list is not archived and the
       incoming SENDER has the correct format.  This  allows  you
       to  refer  bounce  warning recipients to the main list for
       archive retrieval of the missed messages. If  the  sublist
       archives  message, it is assumed that missed messages will
       be retrieved from the sublist archive.

       The list still increments <i>dir</i><b>/num</b> for each message. If the
       sublist  is  archived,  use of incoming message number for
       archive storage would be a security risk.  In  this  case,
       the local sublist message number is used.

<H2>OPTION USAGE</H2>
       In  general, the use of a prefix is discouraged. It wastes
       subject line space, creates trouble  when  MUAs  add  non-
       standard  reply  indicators. However, many users expect it
       not because it is useful, but because they are used to it.

       The  <b>-C</b>  switch  prevents  posts from being set to SENDER.
       Rather than just copying  out  subscriber  address  files,
       <b>ezmlm-send</b>  has  to  parse  them  to look for SENDER. This
       makes it less efficient. Also, it is useful for the SENDER
       to  see  the post to know that it has made it to the list,
       and it's context to other subscribers, i.e. where it  came

                                                                3

ezmlm-send(1)                                       ezmlm-send(1)

       within the traffic of messages on the list.

       Avoiding  SENDER  as a recipient is useful in small lists,
       such as small teams  with  varying  members,  where  ezmlm
       serves  mainly  as an efficient tool to keep the team con-
       nected without administrator intervention. Here the  over-
       head of subscriber list parsing is negligible.

<H2>CHARACTER SETS</H2>
       If  the  list  is  indexed, <b>ezmlm-send</b> will keep a message
       index. rfc2047-encoded subject  and  from  lines  will  be
       decoded.  If <i>dir</i><b>/charset</b> exists, <b>ezmlm-send</b> will eliminate
       redundant escape sequences from the headers  according  to
       the  character set specified in this file.  Only character
       sets using escape sequences need this support.  Currently,
       supported are iso-2022-jp*, iso-2022-kr, and iso-2022-cn*.
       Only iso-2022-jp has been tested extensively.

       The character set can be suffixed by ``:'' followed  by  a
       code. Recognized codes are ``Q'' for ``Quoted-Printable'',
       and ``B'' for ``base64''.

       For this affects the format of the trailer, if  a  trailer
       is  specified.  For unencoded simple messages, the trailer
       is simply suffixed to the  outgoing  message.  For  simple
       encoded  messages, the trailer is added in the same encod-
       ing as used for the message, if  this  is  ``quoted-print-
       able''  or  ``base64''.  Otherwise it is added as is.  For
       composite MIME messages, the trailer is added as  a  sepa-
       rate  part,  with the character set and encoding specified
       in <i>dir</i><b>/charset</b>.

<H2>SEE ALSO</H2>
       <A HREF="ezmlm-get.1.html">ezmlm-get(1)</A>,   <A HREF="ezmlm-idx.1.html">ezmlm-idx(1)</A>,   <A HREF="ezmlm-manage.1.html">ezmlm-manage(1)</A>,    <A HREF="ezmlmmake.1.html">ezmlmmake(1)</A>
       ,  <A HREF="ezmlm-sub.1.html">ezmlm-sub(1)</A>,  <A HREF="ezmlm-unsub.1.html">ezmlm-unsub(1)</A>,  <A HREF="ezmlm-reject.1.html">ezmlm-reject(1)</A>,
       <A HREF="ezmlm.5.html">ezmlm(5)</A>

                                                                4

</PRE>
  <hr>
  <ADDRESS>
  © 1994 <A HREF="http://www.ntua.gr/~christia/man-cgi.html">Man-cgi 1.15</A>, Panagiotis Christias &lt;christia@theseas.ntua.gr&gt;
  </ADDRESS>
